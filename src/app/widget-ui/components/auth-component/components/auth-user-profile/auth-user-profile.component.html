<div *ngIf="user$ | async as user" class="relative w-full">
  <p-button 
    (click)="overlay.toggle($event)" 
    [raised]="true" 
    [ngClass]="config.textColor"
    styleClass="
        w-full 
        flex 
        align-items-center 
        justify-content-start
        gap-3
        border-1 
        border-round-2xl
        surface-0
        shadow-2
        py-2
        px-5
      ">
    <p-avatar 
      [icon]="config.avatarIcon ?? 'pi pi-user'" 
      class="mr-2" 
      size="normal" 
      shape="circle"
      class="mr-2 bg-transparent border-2"
      [styleClass]="config.avatarIconColor || 'text-primary-500'"
    ></p-avatar>

    <div class="flex flex-column text-left max-w-8rem">
      <div class="font-bold" [ngClass]="config.textColor" >
        {{ user.first_name }} {{ user.last_name }} 
      </div>
    </div>
  </p-button>

  <!-- MenÃº desplegable -->
  <p-popover #overlay 
      [dismissable]="true" 
      position="left" 
      styleClass=" border-round-xl ">
        <div class="flex flex-column gap-2">
          <app-card-user-profile  
            [config]="config" 
            [user]="user"  
            (logoutEvent)="onLogout()">
          </app-card-user-profile>
        </div>
  </p-popover>
</div>